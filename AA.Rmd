---
title: "AA Case Study 3"
author: "Andrea Aveni"
date: "3/2/2021"
output: pdf_document
---

```{r}
library(dplyr)
library(ggplot2)


load("cardiomort.RData")
load("amy.rdata")

ta=table(cardio$`Hospital Name`)
ta
length(ta)

cardiooverall=cardio %>% filter(`Procedure Type`=="Overall")
```

```{r}
dt=cardio%>%
  group_by(`Procedure Type`)%>%
  summarize(deaths=sum(`Observed Deaths`), tot=sum(`Total Procedures`))%>%
  mutate(fatality=deaths/tot, logf=log(fatality)) %>%
  select(`Procedure Type`, fatality, logf) %>%
  filter(`Procedure Type`!="Overall")
  
dt %>%
  ggplot(aes(x=`Procedure Type`, y=fatality))+
  geom_col()

dt$num=1:5

ggplot(dt, aes(x=num,y=logf))+
  geom_point()+
  geom_smooth(method = "lm", formula=y~x)+
  theme_bw()
```



```{r}
coordinates=c(
  9533040, 41+52/60+55/60^2, 87+37/60+40/60^2, Illinois, Chicago,
  705686, 41+4/60+23/60^2, 81+31/60+4/60^2, , Akron,
  1170483, 42+39/60+9/60^2, 73+45/60+26/60^2, , Albany,
  6069875, 39+44/60+45/60^2, 75+32/60+48/60^2, Delaware, Wilmington,
  654230, 43+4/60+29/60^2, 89+23/60+3/60^2, Wisconsin, Madison,
  9533040, 41+52/60+55/60^2, 87+37/60+40/60^2, Illinois, Chicago,
  738344, 34+44/60+10/60^2, 92+19/60+52/60^2, Arkansas, Little_Rock,
  2387138, 28+32/60+24/60^2, 81+22/60+48/60^2, Florida, Orlando,
  4628910, 42+21/60+29/60^2, 71+3/60+49/60^2, Massachusetts, Boston,
  4292060, 42+16/60+53/60^2, 83+44/60+54/60^2, Michigan, Ann_Arbor,
  
  7233323, 32+46/60+45/60^2, 96+48/60+32/60^2, Texas, Dallas,
  6020864, 33+45/60+18/60^2, 84+23/60+24/60^2, Georgia, Atlanta,
  0, 0, 0, 0 ,0,
  2932415, 39+44/60+21/60^2, 104+59/60+25/60^2, Colorado, Denver,
  1270530, 29+95/60, 90+8/60, Louisiana, New_Orleans,
  373590, 40+43/60+15/60^2, 89+36/60+34/60^2, Illinois, Peoria,
  13131431, 34+3/60, 118+15/60, California, Los_Angeles,
  4292060, 42+19/60+53/60^2, 83+2/60+45/60^2, Michigan, Detroit,
  6096120, 39+57/60+10/60^2, 75+9/60+49/60^2, Pennsylvania, Philadelphia,
  2362453, 40+26/60+23/60^2, 79+58/60+35/60^2, Pennsylvania, Pittsburgh,
  
  1725246, 36+55/60, 76+12/60, Virginia, Norfolk,
  1572245, 43+5/60, 87+95/60, Wisconsin, Milwaukee,
  3629190, 44+58/60+55/60^2, 93+16/60+9/60^2, Minnesota, Minneapolis,
  7066141, 29+45/60+46/60^2, 95+22/60+59/60^2, Texas, Houston,
  2143651, 39+5/60+59/60^2, 94+34/60+42/60^2, Missouri, Kansas_City,
  13131431, 34+3/60, 118+15/60, California, Los_Angeles,
  2137406, 39+6/60, 84+31/60, Ohio, Cincinnati,
  2057009, 41+29/60, 81+40/60, Ohio, Cleveland,
  2636883, 35+13/60+38/60^2, 80+50/60+35/60^2, NC, Charlotte,
  19979477, 40.753141, 73.708444, NY, NY,
  
  1214295, 41.753679, 72.681676, Connecticut, Hartford,
  7102796, 32.73648, 97.3408, Texas, Fort_Worth,
  2227083, 30.303195, 97.707078, Texas, Austin,
  2478810, 45.4998, 122.6885, Oregon, Portland,
  542710, 36.0072, 78.9373, NC, Durham,
  2387138, 28+32/60+24/60^2, 81+22/60+48/60^2, Florida, Orlando,
  4699, 40.9678905, 76.6050616, Pennsylvania, Danville,
  1077370, 42.97051, 85.66581, Michigan, Grand_Rapids,
  6133552, 38.8575, 77.2278, Washington, DC,
  6158824, 25.791525, -80.212575, Florida, Miami,
  
  
  
)

ta[41:50]
```

